#
# UI Configuration
#
locale: US # Needs to be UK or US. Additionally, this does more than just display logic
version: 
    number: master
    tag: Now with 74.6% more badgersâ„¢
feedback_email_address: rx@lists.rackspace.com

#
# Things that we link to, but don't consume
#
external_links:
    
    alternate_cloud_control: 
        url: https://cloudcontrol.staging.ord1.uk.ccp.rackspace.net/
        name: UK

    cloud_drive:
        url: https://rackercp.drivesrvr-staging.com/account/rackerlogin
        name: Cloud Backup # TODO: Move this to a variable?

    mycloud: 
        url: https://ui.staging.reach.rackspace.com
        name: CP # TODO: Move this to a variable?
        
    control_panel:
        url: https://manage.staging.us.ccp.rackspace.net/
        name: Classic CP # TODO: Move this to a variable?
        
        # This must match /opt/hm-home/local/conf/hm.properties:racker.login.key in CP
        shared_key: 7e090169caab917ebaac510d3d4c4dcc
        
        # This is for our third party chat system
        shared_chat_key: qUcreSTec4 
        nodes:
             
            - https://manage-n01.staging.us.ccp.rackspace.net:10443
             
            - https://manage-n02.staging.us.ccp.rackspace.net:10443
             
            - https://manage-n03.staging.us.ccp.rackspace.net:10443
                        
    end_user_control_panel: 
        url: https://websitesettings.staging.us.ccp.rackspace.net
        name: End User CP # TODO: Move this to a variable?
        nodes: 
                - https://eu-n01.staging.us.ccp.rackspace.net:10443
                - https://eu-n02.staging.us.ccp.rackspace.net:10443
                
    zendesk: 
        url: https://mosso.zendesk.com
        name: Zendesk # TODO: Move this to a variable?

    core: 
        url: https://staging.core.rackspace.com
        name: Core # TODO: Move this to a variable?

    backstage:
        url: https://staging-backstage.slicehost.com/slices/
        
    ohthree:
        
        ORD: http://reports.ohthree.com/preprodord
        

#
# Sevice Catalog Translation
#
catalog:
    next_gen_servers:
        name: cloudServersPreprod
        type: compute
    first_gen_servers:
        name: cloudServers
        type: compute
    cloud_databases:
        name: cloudDatabases
        type: rax:database
    cloud_monitoring:
        name: cloudMonitoring
        type: rax:monitor
    cloud_block_storage:
        name: cloudBlockStoragePreprod
        type: volume
    cloud_files:
        name: cloudFiles
        type: object-store
        
    # Ideally these come from the service catalog, but not today
    admin_endpoints:
        
        next_gen_servers:
            
            US:
                ORD: http://10.23.244.12:8774/v2
            UK:
              # A UK Staging endpoint could go here
            
        lbaas:
            # showing all possible endpoints causes unnecessary calls to be made
            # don't want to show staging lbs in prod! 
            # I wish there was a better way to do this, but I don't think there is 
            
            ORD:
                endpoint: https://staging.admin.ord.loadbalancers.api.rackspacecloud.com/v1.0
                username: cc_service
                password: OA%gV*AZ6HfK
            
            
        cloud_block_storage:
            
            ORD: https://preprod.ord.blockstorage.api.rackspacecloud.com/v1
            
            
#
# Server Configuration
#
server:
    environment: staging_us # Figure out how to get this from unicorn/passenger instead
    
    cookie_domain: .ccp.rackspace.net
    
    logging:
        level: DEBUG
        file: /var/log/cloudcontrol3/current.log
        
    search_exporter:
        lockfile: /var/lock/subsys/elastic_search_exporter
        hostingmatrix:
            endpoint: hmdb.staging.ord1.us.ccp.rackspace.net
            db_name: hostingmatrix
            username: cc_elastic
            password: pa9O!klRjML
        
#
# Things we use to hold data, but nothing more
#      
databases:        
    cloud_control:
        endpoint: cc-n07.staging.us.ccp.rackspace.net
        username: cdbTools
        password: runwithit
        db_name: phptools

    hostingmatrix:
        endpoint: hmdb.staging.ord1.us.ccp.rackspace.net
        db_name: hostingmatrix
        username: cc_hm_svc
        password: OdE5LJqSxG8a68H1KqvCiUnXOxVAIcL3EGK5yH6G
    
    # get_pod is still hitting the DB directly; That is the only reason this is here
    jprov: 
        endpoint: jprov-10dot.staging.us.sites.cloudplatform.rackspace.net
        db_name: jprov
        username: admin_hm
        password: wC1cpveaQ9

    memcached:
        expire_time: 28800
        # must be in the same order for all cc instances
        servers:
                        - cc-n01.staging.us.ccp.rackspace.net:11211
                        - cc-n02.staging.us.ccp.rackspace.net:11211
                        - cc-n03.staging.us.ccp.rackspace.net:11211
                    
    elastic_search:
        host: https://elastic.staging.us.ccp.rackspace.net
        index: rackspace_cloud
        types:
                        - contacts
                        - sites
                        - next_gen_servers
                
#
# All of our auth endpoints in one place. 
#
auth_endpoints:
      
    # This provides us get_account_info_from_nast
    auth_v11: 
        endpoint: https://staging.identity.api.rackspacecloud.com/v1.1
        username: cloudControlAdm
        password: MeZP1wuLKLD7
    
    # This should be the end all, be all one day
    global_auth: 
        internal_endpoint: https://rackidentity.api.rackspacecloud.com/v1
        external_endpoint: https://staging.identity.api.rackspacecloud.com/v2.0
        client_id: a8766fd55f1f2b93a6af10868bef47f003ea790d
        client_secret: 174f0bca73153daa6649af7e203771f54febd7e3
        username: cloudControlAdm
        password: MeZP1wuLKLD7
        tenant: -30

#
# Internal services are things that are written by rackspace, but not open to the public 
#
internal_services:
    servicemix: 
        endpoint: https://smix.staging.us.ccp.rackspace.net/
        validate_certs: false # decide if we validate certificates for SOAP calls
  
    RBA: 
        endpoint: http://staging.si.rackspace.com
        username: cloud_control_staging_user
        password: l3-j=3x2/1386M
        
        organizational_unit: 2
        
        
    valkyrie:
        # Edited to include https our preview environments
        
        endpoint: http://valkyrie.staging.myrs.rackspace.com:3000
        username: cloudcontrol
        token: authenticateagainstallthethings
    
    radar_monitoring:
        endpoint: http://staging.monitoring.api.rackspace.com:8080
        monitor_prefix: https://servers.api.staging.us.ccp.rackspace.net/v1.0/
        next_gen_prefix: servers.api.rackspacecloud.com/
        username: cloud
        password: T9tmaj4GVsnsnyxdjzdDAo1erFhL0RM4I3WQ4CnaMZuqpr/QwmwI5nDa5XBF9o02tZSoav0syqkf/bQsTMnomg==
        
    decript_service:
        endpoint: https://cc-n01.staging.us.ccp.rackspace.net:3100

    # The first item in the list is the primary endpoint
    # additional items will be failed over through in order if they won't play nice
    edir:
        -
            host: edir.dfw.corp.rackspace.com
            port: 636
        -
            host: edir.ord.corp.rackspace.com
            port: 636

    shack:
        endpoint: http://staging.monitoring.api.rackspace.com:8080/service-container-v1/shack-service
        username: cc3
        service:  shack-service
        password: ENQcr5IHBnXawWSuRoqA+0+xpVVuylElDk8w0SOBaGqYTfhjzgdcOSEjJpWxzKj7bett11JiWsIFsZ8MiThcwA==

    monitor_service:
        endpoint: http://staging.monitoring.api.rackspace.com:8080/service-container-v1/monitor-service/monitor-service
        username: cc3
        service:  monitor-service
        password: ENQcr5IHBnXawWSuRoqA+0+xpVVuylElDk8w0SOBaGqYTfhjzgdcOSEjJpWxzKj7bett11JiWsIFsZ8MiThcwA==

    beaker: 
        endpoint: https://mbapi.staging.ord1.us.ci.rackspace.net/beaker

#
# Users that have access to edit roles and actions 
#
super_users:
    - kaleb.pomeroy
    - anthony.tarola
    - nika.miller

#
# Misc stuff thrown at the bottom
#
datacenter: US

cloud_sites:
    offering_id: 157180 
    offering_price_id: 325959 
    no_sites_offering_price_id: 45403 
    ftp:
        staging_ord1: ftp.staging.ftptoyoursite.com
        wc1_sat1: ftp1.ftptoyoursite.com
        wc1_dfw1: ftp2.ftptoyoursite.com            
        
# When hosts server emails are sent, where the summary email gets sent to. At the time of writing,
# this is rx@lists.rackspace.com in staging, and cloudoutage@lists.rackspace.com in production
host_server_down:
    email_list: rx@lists.rackspace.com 

account_management_teams:
    smb_mrq: SMB Marquee
    csp: SMB_CSP accounts
    
customer_ftp_servers:
    ftp.staging.ftptoyoursite.com: 10.13.80.151
    ftp1.ftptoyoursite.com: 64.49.219.228
    ftp2.ftptoyoursite.com: 72.32.147.147
    ftp3.ftptoyoursite.com: 174.143.45.

healthcheck:
    ping_path: /bin/ping
    ping_count: 5
    ports:
        ftp: 21
        ssh: 22
        smtp: 25
        dns: 53
        http: 80
        pop: 110
        https: 443
        mssql: 1433
        mysql: 3306
        rdp: 3389
